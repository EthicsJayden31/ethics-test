<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>윤리 성향 진단 검사</title>
  <style>
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif; background:#f5f6f8; margin:0; padding:20px; }
    .page { display:none; max-width:960px; margin:0 auto; }
    .active { display:block; }
    h1, h2, h3 { text-align:center; }
    .card { background:#fff; padding:24px; margin-bottom:18px; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,.1); }
    .question p { font-weight:600; }
    .scale label { display:block; margin:6px 0; }
    button { display:block; margin:30px auto; padding:14px 32px; font-size:16px; }
    .progress { text-align:right; font-size:14px; color:#555; margin-bottom:10px; }
    .type { font-size:28px; font-weight:800; margin-top:10px; text-align:center; }
    .nickname { font-size:20px; margin-top:6px; text-align:center; }
    .desc { margin-top:18px; line-height:1.8; }
    .thinkers, .issues { margin-top:14px; padding-left:18px; }
    .code-box { background:#f1f3f5; padding:16px; border-radius:8px; margin-top:16px; }
    .notice li { margin-bottom:6px; }
  </style>
</head>
<body>

<!-- 메인 페이지 -->
<div id="page-main" class="page active">
  <div class="card">
    <h1>윤리 성향 진단 검사</h1>
    <p>
      이 검사는 여러분이 일상생활과 사회 문제를 바라볼 때
      <strong>어떤 기준으로 옳고 그름을 판단하는 경향이 있는지</strong>를 살펴보기 위한 활동입니다.
    </p>
    <p>
      시험이나 성적 평가를 위한 검사가 아니며, 정답도 없습니다.
      솔직한 응답일수록 자신의 생각을 더 잘 이해할 수 있습니다.
    </p>

    <h3>응답 방법 안내</h3>
    <p>
      각 문항을 잘 읽고 충분히 생각한 다음,
      <strong>자신의 생각과 가장 가까운 것</strong>을 선택해 주세요.
    </p>

    <h3>유의사항</h3>
    <ul class="notice">
      <li>다른 사람과 상의하지 말고, 스스로 생각하여 응답하세요.</li>
      <li>모든 문항에 동일한 답을 반복해서 선택하면 결과가 정확하지 않습니다.</li>
      <li>모든 문항에 응답해야만 결과를 확인할 수 있습니다.</li>
    </ul>

    <h3>윤리 성향 코드란?</h3>
    <div class="code-box">
      <p><strong>A 영역 (R / P)</strong> – 판단 기준</p>
      <ul>
        <li>R(Result): 결과와 효과를 중요하게 생각</li>
        <li>P(Principle): 규칙과 원칙을 중요하게 생각</li>
      </ul>
      <p><strong>B 영역 (I / C)</strong> – 사회 관점</p>
      <ul>
        <li>I(Individual): 개인의 자유와 선택 중시</li>
        <li>C(Community): 공동체의 질서와 이익 중시</li>
      </ul>
      <p><strong>C 영역 (H / E)</strong> – 도덕 대상</p>
      <ul>
        <li>H(Human): 인간 중심으로 도덕 판단</li>
        <li>E(Environment): 자연·동물까지 고려</li>
      </ul>
      <p><strong>D 영역 (A / S)</strong> – 행동 태도</p>
      <ul>
        <li>A(Action): 문제 해결을 위해 행동 중시</li>
        <li>S(Stability): 질서와 안정을 우선</li>
      </ul>
    </div>

    <button onclick="startTest()">검사 시작</button>
  </div>
</div>

<!-- 검사 페이지 -->
<div id="page-test" class="page">
  <div class="progress" id="progress"></div>
  <form id="testForm"></form>
  <button id="resultBtn" onclick="calculateResult()" disabled>결과 확인</button>
</div>

<!-- 결과 페이지 -->
<div id="page-result" class="page">
  <div class="card">
    <h2>검사 결과</h2>
    <div class="type" id="typeCode"></div>
    <div class="nickname" id="typeName"></div>
    <div class="desc" id="typeDesc"></div>

    <h3>관심 있어할 만한 주제</h3>
    <ul class="issues" id="typeIssues"></ul>

    <h3>이 유형과 가까운 사상가</h3>
    <ul class="thinkers" id="typeThinkers"></ul>

    <h3>윤리 성향 코드 다시 보기</h3>
    <div class="code-box" id="codeExplain"></div>

    <button onclick="location.reload()">다시 검사하기</button>
  </div>
</div>

<script>
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}
function startTest(){ showPage('page-test'); }

const scaleText = ['매우 그렇지 않다','대체로 그렇지 않다','중립','대체로 그렇다','매우 그렇다'];

const questions = [
  // A 판단 기준 (8)
  {text:'많은 사람에게 도움이 된다면 그 선택은 옳다고 생각한다.', area:'A'},
  {text:'결과가 좋다면 규칙을 어기는 것도 어느 정도는 괜찮다.', area:'A'},
  {text:'규칙은 상황에 따라 바뀔 수 있다고 생각한다.', area:'A'},
  {text:'행동을 평가할 때 의도보다 결과가 더 중요하다.', area:'A'},
  {text:'결과가 좋아도 규칙을 어긴 행동은 옳지 않다.', area:'A'},
  {text:'모든 사람에게 지켜야 할 기준은 예외 없이 적용되어야 한다.', area:'A'},
  {text:'상황이 급박하다면 원칙보다 결과를 먼저 생각해야 한다.', area:'A'},
  {text:'원칙은 불리하더라도 지켜야 한다고 생각한다.', area:'A'},

  // B 사회 관점 (8)
  {text:'사회보다 개인의 선택이 더 존중받아야 한다.', area:'B'},
  {text:'사회 질서를 위해 개인의 자유는 제한될 수 있다.', area:'B'},
  {text:'공동체의 이익을 위해 개인이 양보해야 할 때가 있다.', area:'B'},
  {text:'국가나 사회는 개인의 삶에 너무 깊이 개입해서는 안 된다.', area:'B'},
  {text:'개인의 권리는 어떤 경우에도 침해되어서는 안 된다.', area:'B'},
  {text:'사회가 안정되려면 개인의 희생이 필요할 수 있다.', area:'B'},
  {text:'개인의 자유가 사회 전체에 피해를 주어서는 안 된다.', area:'B'},
  {text:'사회 규칙은 개인의 선택보다 우선할 수 있다.', area:'B'},

  // C 도덕 대상 (8)
  {text:'동물도 고통을 느낀다면 도덕적으로 고려해야 한다.', area:'C'},
  {text:'자연은 인간의 삶에 도움이 되도록 활용될 수 있다.', area:'C'},
  {text:'환경 보호를 위해 불편함을 감수할 수 있다.', area:'C'},
  {text:'도덕적 판단의 중심은 인간이라고 생각한다.', area:'C'},
  {text:'미래 세대를 위해 현재 세대는 책임을 져야 한다.', area:'C'},
  {text:'자연과 생명 그 자체도 소중한 가치를 가진다.', area:'C'},
  {text:'인간의 필요가 자연 보호보다 우선할 수 있다.', area:'C'},
  {text:'동물 실험은 필요하다면 허용될 수 있다.', area:'C'},

  // D 행동 태도 (8)
  {text:'부당하다고 느끼는 규칙에는 문제를 제기해야 한다.', area:'D'},
  {text:'사회 문제에 개인이 행동으로 나서는 것이 중요하다.', area:'D'},
  {text:'질서를 유지하기 위해 개인의 행동은 조심스러워야 한다.', area:'D'},
  {text:'옳다고 믿는 일이라면 위험을 감수할 수 있다.', area:'D'},
  {text:'사회 규칙을 지키는 것이 가장 중요하다고 생각한다.', area:'D'},
  {text:'현실이 불공정하다면 바꾸기 위한 행동이 필요하다.', area:'D'},
  {text:'변화보다는 안정이 더 중요하다고 생각한다.', area:'D'},
  {text:'문제가 있어도 제도 안에서 해결하는 것이 바람직하다.', area:'D'}
];

const form = document.getElementById('testForm');
questions.forEach((q, idx) => {
  const div = document.createElement('div');
  div.className = 'card question';
  div.innerHTML = `<p>${idx+1}. ${q.text}</p><div class="scale">` +
    scaleText.map((t,i)=>`<label><input type="radio" name="q${idx}" value="${i+1}" required> ${t}</label>`).join('') +
    '</div>';
  form.appendChild(div);
});

document.getElementById('progress').innerText = `총 ${questions.length}문항`;

form.addEventListener('change', ()=>{
  const answered = new Set([...form.querySelectorAll('input:checked')].map(i=>i.name));
  document.getElementById('resultBtn').disabled = answered.size !== questions.length;
});

const typeDB = {
  'RICH':{name:'실용적 개인 판단자',desc:'개인의 선택과 결과를 중시하며 현실적인 해결을 선호합니다.',thinkers:['존 스튜어트 밀','존 듀이'],issues:['기본소득','표현의 자유','안락사']},
  'RICS':{name:'현실적 개인 조정자',desc:'개인의 자유를 존중하지만 사회적 안정도 함께 고려합니다.',thinkers:['롤즈'],issues:['개인정보 보호','플랫폼 규제']},
  'RIEA':{name:'환경 감수성 개인 행동가',desc:'개인의 선택이 환경에 미치는 영향을 중요하게 여깁니다.',thinkers:['싱어'],issues:['채식','플라스틱 사용']},
  'RIES':{name:'환경 고려 개인 신중가',desc:'환경 문제를 인식하지만 점진적 변화를 선호합니다.',thinkers:['밀'],issues:['탄소세']},

  'RCAS':{name:'공동체 안정 관리자',desc:'공동체의 이익과 질서를 결과 중심으로 판단합니다.',thinkers:['벤담'],issues:['치안 정책','복지 효율성']},
  'RCAA':{name:'공동체 개혁 실천가',desc:'공동체의 이익을 위해 적극적 행동을 중시합니다.',thinkers:['듀이'],issues:['사회운동','시민 참여']},
  'RCEA':{name:'환경 중심 공동체 행동가',desc:'환경 보호를 공동체의 책임으로 인식합니다.',thinkers:['레오폴드'],issues:['기후 행동']},
  'RCES':{name:'환경 정책 조정자',desc:'환경 보호와 사회적 합의를 함께 고려합니다.',thinkers:['밀'],issues:['재생에너지 정책']},

  'PICH':{name:'원칙적 개인 성찰자',desc:'개인의 권리와 원칙을 신중하게 고려합니다.',thinkers:['칸트'],issues:['사생활 보호','양심의 자유']},
  'PICA':{name:'원칙적 개인 실천가',desc:'부당함에 맞서 행동하는 개인입니다.',thinkers:['간디'],issues:['내부고발','시민 저항']},
  'PIES':{name:'원칙적 환경 존중가',desc:'자연에 대한 도덕적 책임을 중시합니다.',thinkers:['테일러'],issues:['야생동물 보호']},
  'PIEA':{name:'환경 권리 옹호자',desc:'환경 문제에 적극적으로 목소리를 냅니다.',thinkers:['싱어'],issues:['환경 시위']},

  'PCAS':{name:'질서 중시 공동체 수호자',desc:'사회 규범과 질서를 최우선으로 여깁니다.',thinkers:['뒤르켐'],issues:['법과 질서']},
  'PCAA':{name:'도덕적 공동체 행동가',desc:'공동체의 도덕적 가치를 위해 행동합니다.',thinkers:['마틴 루서 킹'],issues:['인권 운동']},
  'PCES':{name:'전통 존중 공동체 관리자',desc:'전통과 관습의 가치를 중요하게 여깁니다.',thinkers:['공자'],issues:['전통과 변화']},
  'PCEA':{name:'원칙 기반 공동체 개혁가',desc:'정의로운 공동체를 만들고자 합니다.',thinkers:['롤즈'],issues:['사회 정의','불평등']}
};

function calculateResult(){
  const data = new FormData(form);
  let score = {A:0,B:0,C:0,D:0};
  questions.forEach((q,idx)=>{ score[q.area] += Number(data.get('q'+idx)); });

  const A = score.A/8 >= 3 ? 'R':'P';
  const B = score.B/8 >= 3 ? 'I':'C';
  const C = score.C/8 >= 3 ? 'H':'E';
  const D = score.D/8 >= 3 ? 'A':'S';

  const type = A+B+C+D;
  const dataRow = typeDB[type];

  document.getElementById('typeCode').innerText = `유형 코드: ${type}`;
  document.getElementById('typeName').innerText = dataRow?.name || '혼합 윤리 성향';
  document.getElementById('typeDesc').innerText = dataRow?.desc || '여러 윤리적 관점이 고르게 나타나는 유형입니다.';

  const ulI = document.getElementById('typeIssues');
  ulI.innerHTML = '';
  (dataRow?.issues || []).forEach(i=>{ const li=document.createElement('li'); li.innerText=i; ulI.appendChild(li); });

  const ulT = document.getElementById('typeThinkers');
  ulT.innerHTML = '';
  (dataRow?.thinkers || []).forEach(t=>{ const li=document.createElement('li'); li.innerText=t; ulT.appendChild(li); });

  document.getElementById('codeExplain').innerHTML = document.querySelector('#page-main .code-box').innerHTML;

  showPage('page-result');
}
</script>

</body>
</html>
