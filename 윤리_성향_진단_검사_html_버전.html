<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>윤리 성향 진단 검사</title>
  <style>
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif; background:#f5f6f8; margin:0; padding:20px; }
    h1 { text-align:center; }
    .question { background:#fff; padding:15px; margin-bottom:12px; border-radius:8px; box-shadow:0 1px 3px rgba(0,0,0,.1); }
    .question p { margin:0 0 10px; font-weight:600; }
    .scale label { margin-right:10px; }
    button { display:block; margin:30px auto; padding:12px 24px; font-size:16px; }
    #result { max-width:800px; margin:40px auto; background:#fff; padding:20px; border-radius:10px; display:none; }
    .type { font-size:24px; font-weight:700; }
    .nickname { font-size:20px; margin-top:10px; }
    .desc { margin-top:15px; line-height:1.6; }
  </style>
</head>
<body>

<h1>윤리 성향 진단 검사</h1>
<p style="text-align:center">각 문항에 대해 가장 가까운 정도를 선택하세요 (1~5)</p>

<form id="testForm"></form>

<button onclick="calculateResult()">결과 확인</button>

<div id="result">
  <div class="type" id="typeCode"></div>
  <div class="nickname" id="typeName"></div>
  <div class="desc" id="typeDesc"></div>
</div>

<script>
const questions = [
  // A영역 8문항
  ...Array.from({length:8}, (_,i)=>({text:`A영역 문항 ${i+1}`, area:'A'})),
  // B영역 7문항
  ...Array.from({length:7}, (_,i)=>({text:`B영역 문항 ${i+1}`, area:'B'})),
  // C영역 8문항
  ...Array.from({length:8}, (_,i)=>({text:`C영역 문항 ${i+1}`, area:'C'})),
  // D영역 7문항
  ...Array.from({length:7}, (_,i)=>({text:`D영역 문항 ${i+1}`, area:'D'}))
];

const form = document.getElementById('testForm');
questions.forEach((q, idx) => {
  const div = document.createElement('div');
  div.className = 'question';
  div.innerHTML = `<p>${idx+1}. ${q.text}</p><div class="scale">` +
    [1,2,3,4,5].map(v=>`<label><input type="radio" name="q${idx}" value="${v}" required> ${v}</label>`).join('') +
    '</div>';
  form.appendChild(div);
});

const typeDB = {
  'PCHS': { name:'원칙적 공동체 관리자', desc:'원칙과 공동체 질서를 중시하며 안정과 책임을 중요하게 여기는 유형입니다. 칸트, 헤겔, 뒤르켐의 사상과 유사합니다.' },
  'PCHA': { name:'책임 있는 정의 실천가', desc:'공동체의 정의를 위해 원칙적으로 행동하려는 유형입니다. 롤스, 샌델과 가깝습니다.' },
  'RIHA': { name:'결과 중심 개인 행동가', desc:'결과와 효율, 개인의 자유를 중시하며 적극적으로 행동합니다. 벤담, 밀과 유사합니다.' }
};

function calculateResult(){
  const data = new FormData(form);
  let score = {A:0,B:0,C:0,D:0};
  questions.forEach((q,idx)=>{ score[q.area] += Number(data.get('q'+idx)); });

  const A = score.A/8 >= 3 ? 'R':'P';
  const B = score.B/7 >= 3 ? 'I':'C';
  const C = score.C/8 >= 3 ? 'H':'E';
  const D = score.D/7 >= 3 ? 'A':'S';

  const type = A+B+C+D;
  document.getElementById('typeCode').innerText = `당신의 유형: ${type}`;
  document.getElementById('typeName').innerText = typeDB[type]?.name || '혼합 유형';
  document.getElementById('typeDesc').innerText = typeDB[type]?.desc || '여러 윤리적 성향이 고르게 나타나는 유형입니다.';
  document.getElementById('result').style.display='block';
  window.scrollTo(0,document.body.scrollHeight);
}
</script>

</body>
</html>
